아래의 조건을 모두 적용하여, 아래의 요구사항을 모두 구현할 것.
구현 결과를 체크리스트로 반환할 것.

==============================================

조건-커서룰) 아래의 커서룰을 적용하여 작업하고, 이 작업이 끝나면 해당 rules 적용 결과를 체크리스트로 반환할 것.
            - @01-common.mdc

==============================================

조건-파일경로) 구현될 테스트 파일경로: src/commons/providers/auth/tests/auth.guard.spec.ts

==============================================

핵심요구사항) 다음의 기능을 playwright 테스트를 활용하여 TDD기반으로 구현하고, 테스트에 통과할 때까지 반복할 것.
            1) 테스트 제외 라이브러리
                - jest
                - @testing-library/react

            2) 테스트 조건
                - timeout은 network 통신인 경우 2000ms 미만으로 설정할 것.
                - timeout은 network 통신이 아닌 경우 설정하지 않거나, 500ms 미만으로 설정할 것.
                - 페이지가 완전히 로드된 후 테스트할 것.
                    - 페이지 로드 식별 요구사항: 고정식별자 data-testid 대기 방법
                    - 페이지 로드 식별 금지사항: networkidle 대기 방법
                - 세션 동기화 대기: auth.provider의 세션 동기화가 완료될 때까지 대기 (최대 2000ms)

            3) 테스트 시나리오
                3-1) 공개 경로 접근 테스트
                    - 공개 경로(/login, /signup 등)에 접근 시 인가 검증을 건너뛰고 children을 표시하는지 확인
                    - 로그인 상태와 관계없이 접근 가능한지 확인

                3-2) 회원 전용 경로 - 로그인 상태 접근 테스트
                    - 실제 Supabase Auth를 사용하여 로그인 상태를 만든 후 테스트
                    - 사용할 계정: email: "a@c.com", password: "1234qwer"
                    - 회원 전용 경로(/home, /chat 등)에 접근 시 children을 표시하는지 확인
                    - 로그인 모달이 표시되지 않는지 확인

                3-3) 회원 전용 경로 - 비로그인 상태 접근 테스트
                    - 비로그인 상태에서 회원 전용 경로에 접근 시:
                        1. 빈 화면(null)을 표시하는지 확인
                        2. 로그인 모달이 표시되는지 확인
                        3. 모달의 제목이 "로그인이 필요합니다"인지 확인
                        4. 모달의 설명이 "이 페이지에 접근하려면 로그인이 필요합니다."인지 확인
                        5. 모달의 확인 버튼 클릭 시:
                            - 모든 모달이 닫히는지 확인
                            - 로그인 페이지(/login)로 이동하는지 확인
                        6. 모달이 한 번만 표시되는지 확인 (중복 표시 방지)

                3-4) 세션 동기화 대기 테스트
                    - 페이지 로드 후 세션 동기화가 완료될 때까지 빈 화면을 표시하는지 확인
                    - 세션 동기화 완료 후 인가 검증이 진행되는지 확인

                3-5) 테스트 환경 변수 테스트
                    - NEXT_PUBLIC_TEST_ENV=test 환경에서:
                        1. 모든 경로에 접근 가능한지 확인
                        2. 로그인 상태와 관계없이 children을 표시하는지 확인
                        3. 로그인 모달이 표시되지 않는지 확인

                3-6) 경로 변경 시 인가 재검증 테스트
                    - 공개 경로에서 회원 전용 경로로 이동 시 인가 재검증이 수행되는지 확인
                    - 회원 전용 경로에서 다른 회원 전용 경로로 이동 시 인가 재검증이 수행되는지 확인
                    - 경로 변경 시 모달 표시 플래그가 리셋되는지 확인

            4) 테스트 API 조건 (Supabase)
                4-1) 데이터
                    - 성공 시나리오는 실제 Supabase Auth를 사용할 것.
                    - Mock데이터 사용하지 말 것.

                4-2) 성공 시나리오 (실제 Supabase, 모킹 금지)
                    - Supabase Auth 요청을 모킹하지 말 것.
                    - 아래 계정을 사용하여 로그인 테스트를 수행할 것.
                        - 사용할 email: "a@c.com"
                        - 사용할 password: "1234qwer"
                    - 로그인 성공 후 세션이 정상적으로 설정되는지 확인

                4-3) 실패 시나리오 (모킹 불필요)
                    - AuthGuard는 인가 실패 시 모달만 표시하고 리다이렉트하므로,
                      Supabase Auth 실패 시나리오는 별도로 테스트하지 않음
                    - 비로그인 상태 접근 테스트로 대체

            5) 테스트 데이터 식별자
                - 각 페이지에 고정 식별자 data-testid를 배치하여 페이지 로드 완료를 판별할 것.
                - 예시:
                    - /home: data-testid="home-page"
                    - /chat: data-testid="chat-page"
                    - /login: data-testid="auth-login-page"
                    - /signup: data-testid="auth-signup-page"

            6) 테스트 실행 순서
                - beforeEach에서 페이지 초기 상태 설정
                - 각 테스트는 독립적으로 실행 가능하도록 구성
                - 테스트 간 상태 공유 최소화

