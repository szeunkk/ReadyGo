prompt.302.func.signup-success-page

아래의 조건을 모두 적용하여, 아래의 요구사항을 모두 구현할 것.
구현 결과를 체크리스트로 반환할 것.

==============================================

조건-커서룰) 아래의 커서룰을 적용하여 작업하고,
이 작업이 끝나면 해당 rules 적용 결과를 체크리스트로 반환할 것.
- @01-common.mdc
- @04-func.mdc

==============================================

조건-파일경로) 참고할 TSX  파일경로: src/components/auth/signup-success/index.tsx
조건-파일경로) 참고할 CSS  파일경로: src/components/auth/signup-success/styles.module.css
조건-파일경로) 구현될 HOOK 파일경로: src/components/auth/signup-success/hooks/index.signup-success.hook.tsx
조건-파일경로) 구현될 TEST 파일경로: src/components/auth/signup-success/tests/index.signup-success.hook.spec.ts

==============================================

핵심요구사항) 다음의 기능을 step-by-step 으로 구현하고,
적용 결과를 체크리스트로 반환할 것.

==============================================
1. 회원가입 성공 시나리오
==============================================

1-1) 회원가입 완료 처리 대기
- 페이지 진입 직후 회원가입 완료 처리(닉네임 확보 등)가 끝날 때까지 대기할 것.
- 대기 중에는 로딩 화면을 노출할 것.
- 로딩 화면에는 고정 식별자 data-testid="auth-signup-success-loading"을 포함할 것.

1-2) 회원가입 성공 페이지 노출
- 로딩이 끝나면 회원가입 성공 화면을 노출할 것.
- 성공 화면 root에는 고정 식별자 data-testid="auth-signup-success-page"를 반드시 포함할 것.

==============================================
2. 닉네임 표시 요구사항
==============================================

2-1) 회원가입 시 랜덤 생성된 닉네임을 성공 페이지 title에 표시할 것.
- 타이틀 텍스트 포맷은 정확히 다음과 같이 구성할 것.

  {nickname}님, 환영합니다!

2-2) nickname 데이터 확보 우선순위
- nickname은 반드시 Supabase user_profiles 테이블에서 조회할 것.
- 조회 순서는 다음과 같이 처리할 것.

  1) supabase.auth.getUser() 또는 auth 세션을 통해 현재 로그인 유저의 id(auth.uid())를 확보
  2) user_profiles 테이블에서 id = auth.uid() 조건으로 단일 row 조회
  3) 조회된 nickname을 화면에 표시

- Supabase 조회 중 에러가 발생하거나,
  user_profiles row가 존재하지 않거나,
  nickname 값이 비어있는 경우에는
  fallback 문구를 사용하되 UX가 깨지지 않게 처리할 것.

  fallback 예시:
  "플레이어님, 환영합니다!"

- nickname 조회 실패 시에도 페이지 자체는 정상 렌더링되어야 하며,
  무한 로딩 상태에 빠지지 않도록 할 것.

==============================================
3. 버튼 클릭 시 이동 조건
==============================================

성공 화면에 아래 3개의 버튼을 노출할 것.

3-1) 게임 성향 분석 테스트 하기
- 클릭 시 다음 페이지로 이동할 것.
- 이동 경로:
  src/app/(main)/traits/page.tsx
- Next.js router를 사용하여 이동할 것.

3-2) 스팀 계정 연동하기
- 스팀 계정 연동 페이지는 현재 미구현 상태임.
- 아래 중 하나의 방식으로 처리할 것.

  - 버튼 클릭 시 "준비 중입니다" 안내를 노출하고 페이지 이동은 하지 않음
  - (임시 경로가 존재한다면) 해당 경로로 이동

- 어떤 방식이든 UX가 깨지지 않게 처리할 것.

3-3) 나중에 할게요
- 클릭 시 다음 페이지로 이동할 것.
- 이동 경로:
  src/app/(main)/home/page.tsx
- Next.js router를 사용하여 이동할 것.

==============================================
4. 접근 제어 (권장)
==============================================

- 성공 페이지는 회원가입 직후 유저가 진입하는 페이지이므로,
  로그인 세션이 없는 경우 다음 중 하나로 처리할 것.

  - 홈 페이지 또는 로그인 페이지로 리다이렉트
  - 또는 최소한의 보호 로직을 적용하여 UX가 깨지지 않게 처리

- 프로젝트 정책에 맞춰 과도한 로직은 추가하지 말 것.

==============================================
추가 구현 요구사항
==============================================

- Playwright 테스트에서 data-testid="auth-signup-success-page"를 기준으로
  페이지 이동 성공 여부를 검증할 예정이므로,
  해당 식별자는 반드시 포함할 것.

- Supabase user_profiles 조회는
  단일 select 쿼리로 수행하고,
  필요 이상으로 여러 요청을 발생시키지 말 것.

==============================================
마지막 요구사항
==============================================

구현 완료 후 아래 2가지 체크리스트를 반환할 것.

1) 커서룰(@01-common.mdc, @04-func.mdc) 적용 결과 체크리스트
2) 기능 요구사항 구현 체크리스트
   - Supabase auth 세션 기반 nickname 조회 여부
   - nickname 표시 및 fallback 처리 여부
   - 로딩 → 성공 화면 전환 여부
   - 버튼 3종 이동 조건 충족 여부
   - data-testid 기반 테스트 대응 여부
